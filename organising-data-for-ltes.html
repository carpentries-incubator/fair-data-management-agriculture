<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>FAIR Data Management for Long-term Agriculture Experiments: Organising data for long-term experiments</title><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" type="text/css" href="assets/styles.css"><script src="assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [ ['$','$'], ['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png"><link rel="manifest" href="site.webmanifest"><link rel="mask-icon" href="safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" content="#ffffff"></head><body>
    <header id="top" class="navbar navbar-expand-md navbar-light bg-white top-nav data"><a class="visually-hidden-focusable skip-link" href="#main-content">Skip to main content</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-6">
      <div class="large-logo">
        <img alt="Data Carpentry" src="assets/images/data-logo.svg"><abbr class="icon" title="This lesson is in the pre-alpha phase, which means that it is in early development, but has not yet been taught." style="text-decoration: unset">
          Â 
          <a href="https://cdh.carpentries.org/the-lesson-life-cycle.html#early-development-pre-alpha-through-alpha" class="external-link alert-link" style="color: #383838">Pre-Alpha
            <i aria-hidden="true" class="icon" data-feather="alert-octagon" style="color: #FF4955; border-radius: 5px"></i>
          </a>
          <span class="visually-hidden">This lesson is in the pre-alpha phase, which means that it is in early development, but has not yet been taught.</span>
        </abbr>
        
      </div>
    </div>
    <div class="selector-container ">
      
      
      <div class="dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Learner View <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1"><li><button class="dropdown-item" type="button" onclick="window.location.href='instructor/organising-data-for-ltes.html';">Instructor View</button></li>
        </ul></div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl navbar-light bg-white bottom-nav data" aria-label="Main Navigation"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="Data Carpentry" src="assets/images/data-logo-sm.svg"></div>
    <div class="lesson-title-md">
      FAIR Data Management for Long-term Agriculture Experiments
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
      <i role="img" aria-label="search button" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0"><li class="nav-item">
          <span class="lesson-title">
            FAIR Data Management for Long-term Agriculture Experiments
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="key-points.html">Key Points</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="reference.html#glossary">Glossary</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="profiles.html">Learner Profiles</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            More <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown"></ul></li>
      </ul></div>
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled><input class="form-control me-2 searchbox" type="search" placeholder="Search" aria-label="Search"><button class="btn btn-outline-success tablet-search-button" type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="search button"></i>
        </button>
      </fieldset></form>
  </div><!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  FAIR Data Management for Long-term Agriculture Experiments
</div>

<aside class="col-md-12 lesson-progress"><div style="width: 67%" class="percentage">
    67%
  </div>
  <div class="progress data">
    <div class="progress-bar data" role="progressbar" style="width: 67%" aria-valuenow="67" aria-label="Lesson Progress" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
  <div id="sidebar-col" class="col-lg-4">
    <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="close menu" alt="close menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle"><i class="search-icon" data-feather="x" role="img"></i></button>
        <div class="sidebar-inner">
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Learner View
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="instructor/organising-data-for-ltes.html">Instructor View</a>
                      </div>
                    </div>
                  </div><!--/div.accordion-item-->
                </div><!--/div.accordion-flush-->
              </div><!--div.sidenav-view-selector -->
            </div><!--/div.col -->
      
            <hr></div><!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODES
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Summary and Setup</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="introduction.html">1. Introduction to FAIR Data Management for Long-term Agriculture Experiments</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="sharing-data.html">2. Why should we share long-term experiment data</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="fair-data.html">3. FAIR Principles for long-term agricultural experiments data</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush5">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading5">
        <a href="metadata-for-ltes.html">4. Metadata for long-term experiments</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlushcurrent">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-headingcurrent">
      <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapsecurrent" aria-expanded="true" aria-controls="flush-collapsecurrent">
        <span class="visually-hidden">Current Chapter</span>
        <span class="current-chapter">
        Organising data for long-term experiments
        </span>
      </button>
    </div><!--/div.accordion-header-->
        
    <div id="flush-collapsecurrent" class="accordion-collapse collapse show" aria-labelledby="flush-headingcurrent" data-bs-parent="#accordionFlushcurrent">
      <div class="accordion-body">
        <ul><li><a href="#introduction">Introduction</a></li>
<li><a href="#common-spreadsheet-errors">Common Spreadsheet Errors</a></li>
<li><a href="#excel-is-not-a-database">Excel is not a database</a></li>
        </ul></div><!--/div.accordion-body-->
    </div><!--/div.accordion-collapse-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush7">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading7">
        <a href="publishing-data-for-ltes.html">6. publishing-data-for-ltes</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width"><div class="accordion accordion-flush resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul><li>
                        <a href="key-points.html">Key Points</a>
                      </li>
                      <li>
                        <a href="reference.html#glossary">Glossary</a>
                      </li>
                      <li>
                        <a href="profiles.html">Learner Profiles</a>
                      </li>
                      
                    </ul></div>
                </div>
              </div>
            </div>
            <hr class="half-width resources"><a href="aio.html">See all in one page</a>

            <hr class="d-none d-sm-block d-md-none"><div class="d-grid gap-1">
            
            </div>
          </div><!-- /div.accordion -->
        </div><!-- /div.sidebar-inner -->
      </nav></div><!-- /div.sidebar -->
  </div><!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-instructor.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <nav class="lesson-content mx-md-4" aria-label="Previous and Next Chapter"><!-- content for small screens --><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="metadata-for-ltes.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="publishing-data-for-ltes.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="metadata-for-ltes.html" rel="prev"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous: Metadata for</a>
        <a class="chapter-link float-end" href="publishing-data-for-ltes.html" rel="next">Next: publishing-data-for-... <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <hr></nav><main id="main-content" class="main-content"><div class="container lesson-content">
        <h1>Organising data for long-term experiments</h1>
        <p> Last updated on 2023-02-23 | 
        
        <a href="https://github.com/carpentries-incubator/fair-data-management-agriculture/edit/main/episodes/organising-data-for-ltes.Rmd" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
        
        
        
        <div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right"> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>

        

<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul><li>What are the principles for using spreadsheets for good data
organisation?</li>
<li>How can we perform basic validation of tabular data?</li>
</ul></div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul><li>Learn to recognise good and bad practice for managing tabular data
in spreadsheet programs.</li>
<li>Understand how good table structure helps to re-use data.</li>
</ul></div>
</div>
</div>
</div>
</div>
<section id="introduction"><h2 class="section-heading">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<hr class="half-width"><p>Tables are a great way of presenting data, and spreadsheet software
such as Google Sheets and Microsoft Excel are useful programs for making
tabular datasets. Most researchers are familiar with Excel, it is easy
to use, flexible, and includes tools for analysing and visualising data.
Excelâs flexibility gives us a lot of freedom to organise data, but this
can lead to bad practices and data which are difficult to reuse.</p>
<p>In the worst case Excelâs default behavior may corrupt our data. For
example consider a value like 1/12, or SEPT1. In both examples Excel
will, by default, convert these values to dates, even if they are not
intended by the user to be dates. In the example of SEPT1, this was a
recognised name for a human gene which has since been renamed to SEPTIN1
specifically to avoid this type of data handling error when using Excel
(<a href="https://doi.org/10.1038/s41588-020-0669-3" class="external-link">https://doi.org/10.1038/s41588-020-0669-3</a>).</p>
<div id="challenge1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="bad-tables-in-excel" class="callout-inner">
<h3 class="callout-title">Bad tables in Excel<a class="anchor" aria-label="anchor" href="#challenge1"></a>
</h3>
<div class="callout-content">
<p>Using the data tables in the lesson Excel files, review them to
identify any problems with that would make it difficult to reuse the
data</p>
</div>
</div>
</div>
<div id="accordionHint1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button hint-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseHint1" aria-expanded="false" aria-controls="collapseHint1">
  <h4 class="accordion-header" id="headingHint1">
  Give me a hint
  </h4>
</button>
<div id="collapseHint1" class="accordion-collapse collapse" aria-labelledby="headingHint1" data-bs-parent="#accordionHint1">
<div class="accordion-body">
<ul><li>What do you find confusing about the data?</li>
<li>Do you have all the information you need to use the data?</li>
<li>Could you successfully combine the data?</li>
</ul></div>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">
  Problems with the Broadbalk dataset
  </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<ol style="list-style-type: decimal"><li>Plot names would be converted to dates in Excel</li>
<li>Treatments, FYM treatments are encoded using colour, and they key is
not obvious</li>
<li>Yield does not provide units</li>
<li>Some yield values are coloured red, but not clear why</li>
</ol><div class="section level3">
<h3 id="problems-with-the-sidada-dataset">Problems with the Sidada dataset<a class="anchor" aria-label="anchor" href="#problems-with-the-sidada-dataset"></a></h3>
<ol style="list-style-type: decimal"><li>Multi-row column headings</li>
<li>Matrix style layout</li>
<li>Not even sure what the data is for</li>
<li>No metadata</li>
</ol></div>
<div class="section level3">
<h3 id="problems-with-the-chitedze-dataset">Problems with the Chitedze dataset<a class="anchor" aria-label="anchor" href="#problems-with-the-chitedze-dataset"></a></h3>
<ol style="list-style-type: decimal"><li>Pretty layout â try saving as CSV, mix of data and metadata on one
sheet</li>
<li>Headings span multiple columns</li>
<li>Use of undefined codes</li>
<li>Missing data flagged with -9999</li>
</ol></div>
<div class="section level3">
<h3 id="problems-with-the-embu-dataset">Problems with the Embu dataset<a class="anchor" aria-label="anchor" href="#problems-with-the-embu-dataset"></a></h3>
<ol style="list-style-type: decimal"><li>Inconsistent use of treatment names â first 3 years have a space
between OM and N, OM and N rates are blank when not applied, but after
are 0. Yield has missing values which are flagged * years 1-3 and N/A
years 4-10</li>
<li>Yield combines units and value, should be separate</li>
<li>Yield has different units â bushels/acre and t/ha</li>
</ol></div>
<div class="section level3">
<h3 id="can-these-datasets-easily-be-combined-and-reused">Can these datasets easily be combined and reused<a class="anchor" aria-label="anchor" href="#can-these-datasets-easily-be-combined-and-reused"></a></h3>
<ul><li>No, these datasets cannot easily be combined.</li>
</ul></div>
</div>
</div>
</div>
</div>
</section><section id="common-spreadsheet-errors"><h2 class="section-heading">Common Spreadsheet Errors<a class="anchor" aria-label="anchor" href="#common-spreadsheet-errors"></a>
</h2>
<hr class="half-width"><p>There are several well known errors researchers make when using
Excel. This section provides an overview of them.</p>
<div class="section level3">
<h3 id="multiple-tables-in-one-spreadsheet">1. Multiple tables in one spreadsheet<a class="anchor" aria-label="anchor" href="#multiple-tables-in-one-spreadsheet"></a></h3>
<p>The Broadbalk example dataset has its data organised into separate
tables for each year in one worksheet. While this view makes it visually
easy for a human to view all the data on one screen, it makes it much
harder for a computer to process the data. The computer does not
recognise row 6 contains is for five different tears and column C
includes both treatment codes, sowing and harvest dates for two differet
years. If we wanted to calculate mean yields per treatment we would need
to reorganise the data or manually reference cells in an Excel
formula.</p>
<figure><img src="fig/multiple-tables-bad-example.png" alt="Example of bad Excel practice using multiple tables in one Excel worksheet." class="figure mx-auto d-block"><figcaption>Example of multiples tables in one spreadsheet</figcaption></figure></div>
<div class="section level3">
<h3 id="using-multiple-tabs">2. Using multiple tabs<a class="anchor" aria-label="anchor" href="#using-multiple-tabs"></a></h3>
<p>Creating multiple tabs can improve data organisation by helping to
separate different pieces of information. For example, in the Embu
example dataset, the yield data is in a separate worksheet tab to the
experiment information. However, with Excel, the computer will not be
able to see connections which might exist between data in different
tabs, for example, in the Embu example, the yield data is split into a
separate worksheet per year, and while a human can see these data are
related the computer cannot. Furthermore, key information, namely the
year of the experiment is encoded in the worksheet name only. As with
placing data in multiple tables in the same worksheet, placing data in
multiple worksheets means you must either reorganise the data or write
more data handling scripts before you can use the data.</p>
<p>Using multiple worksheet tab can introduce inconsistencies in the way
tables are organised. It is always better to keep related together in
one table. Keeping related data in one table may result in a large
table, but Excel does provide tools to make it easier to navigate the
data such as freezing column headings and column filters.</p>
<p>If our spreadsheet has more than a few worksheet tabs, and you need
to scroll through multiple tabs, it can become difficult and unwieldy to
keep track of all the information.</p>
</div>
<div class="section level3">
<h3 id="zeros-blanks-and-null-values">3. Zeros, blanks and null values<a class="anchor" aria-label="anchor" href="#zeros-blanks-and-null-values"></a></h3>
<p>A cell with a value 0 is different to a blank cell. To Excel, a blank
cell means no data, whereas zero is data. Zero means you looked for
something but did not observe it while blank is an absence of data.
Excel and statistical programs may misrepresent blanks that should be
zeros in subsequent analyses</p>
<p>Very often weâll encounter datasets where missing data is encoded by
a specific value, for example, -999, 999, NA, or *. Using values to
encode missing data can cause problems. For example a statistical
program will not recognise a numeric code for missing data from real
numeric data, and a non-numeric character may cause the values to be
treated as text rather than numbers. Therefore it is generally better to
leave missing values as blank, but if they are encoded, the table
metadata must document this, and the code must be used consistently. One
key exception to this rule is if you plan to use the statistical
software R, where the value NA can be used to indicate missing
values.</p>
<p>Sometimes we might know why a value is missing, and this might be for
one of several reasons. For example, in an LTE, missing data might be
because the crop failed to establish, it was destroyed by animal pests,
or it was destroyed by disease. Rather than encoding this information in
the column recording yield, it is better to add a separate column
recording the reason why data is missing.</p>
</div>
<div class="section level3">
<h3 id="using-formatting-to-convey-information">4. Using formatting to convey information<a class="anchor" aria-label="anchor" href="#using-formatting-to-convey-information"></a></h3>
<p>Formatting in Excel can include using different background colours
for cells, using different colours for text, leaving blank rows or
columns between data, or using border shading. For a human, formatting
can be used to both make tables more readable and to convey information.
Formatting to make a table more readable, for example, shading column
headings, is acceptable, but using formatting to convey information must
be avoided. Unlike a human, a computer cannot use formatting, and if the
data is saved as a text format such as CSV or TAB, the information
contained in the formatting is lost.</p>
<p>Rather than using formatting to convey information, the information
should be encoded as a new field. For example, in the Broadbalk dataset,
green is used to identify treatments with FYM, and red text to indicate
a suspicious value, these pieced of information should be added as
separate columns:</p>
<figure><img src="fig/formatting-example-bad.png" alt="Example of using formatting to convey additional information." class="figure mx-auto d-block"></figure><p>becomes</p>
<figure><img src="fig/formatting-example-good.png" alt="Example replacing formatting with additional columns to convey usable information." class="figure mx-auto d-block"></figure></div>
<div class="section level3">
<h3 id="storing-more-than-one-piece-of-information-in-a-cell">5. Storing more than one piece of information in a cell<a class="anchor" aria-label="anchor" href="#storing-more-than-one-piece-of-information-in-a-cell"></a></h3>
<p>Using formatting to convey information is an example of storing more
than one piece of information in a cell, you have both the cell value
and the information encoded by the formatting. In the Sidada example, we
can see treatment seems to encode information about several different
treatments. This makes it difficult, for example, to select records
based on a single factor level, for example if we wanted to identify
plots with the N+ treatment rather than filtering on an exact term we
must use a fuzzy search and select plots containing or like N+. Equally
we cannot easily order rows on this value.</p>
<p>In the Embu dataset, yield data for some years combines both the
yield value and yield units. This problematic for analysis as a computer
would treat the value as text instead of as a number. The unit
information should either be stored in a separate column, or as metadata
for the yield value column description.</p>
</div>
<div class="section level3">
<h3 id="inconsistency-in-values-used">6. Inconsistency in values used<a class="anchor" aria-label="anchor" href="#inconsistency-in-values-used"></a></h3>
<p>Being inconsistent with value names can cause problems. For example,
in the Embu data, <code>C. calothyrsus cuttings</code>,
<code>Calliandra cuttings</code>, and <code>Calliandra cuttings</code>
are used interchangeably and, as humans we can see these terms, in the
context of the dataset, mean the same thing. A compuer, however, would
treat these as different values.</p>
</div>
<div class="section level3">
<h3 id="using-problematic-field-names">7. Using problematic field names<a class="anchor" aria-label="anchor" href="#using-problematic-field-names"></a></h3>
<p>Column names should be descriptive of the data they hold. A brief
descriptive name should be preferred as it removes ambiguity and better
conveys the meaning of the data. You can provide more detail about the
column data in a separate metadata file. Abbreviations may make sense
now, but will they make sense in 6 months time or to other researchers
unfamiliar with your naming convention? Abbreviations are best used only
when they widely accepted within a research community.</p>
<p>When naming columns be careful to avoid white spaces, starting with
numbers, or special characters. white space, tabs and commas can all be
interpreted as column delimiters, and some software packages wonât
accept column names with numbers. Underscores are a better alternative
to white space. CamelCase (for example OrganicManureTreatment), can also
be used, but may cause problems with software that treats column
headings as case insensitive.</p>
<table class="table"><thead><tr class="header"><th>Good Name</th>
<th>Avoid Name</th>
</tr></thead><tbody><tr class="odd"><td>yield_tha</td>
<td>yield (t ha-1)</td>
</tr><tr class="even"><td>organic_manure_type</td>
<td>OM type</td>
</tr><tr class="odd"><td>treatment_label</td>
<td>treatment label</td>
</tr><tr class="even"><td>year_5</td>
<td>5th year</td>
</tr></tbody></table></div>
<div class="section level3">
<h3 id="multi-row-column-names-and-merge-cells">8. multi-row column names and merge cells<a class="anchor" aria-label="anchor" href="#multi-row-column-names-and-merge-cells"></a></h3>
<p>Using multi-row column headings can be useful mechanism for grouping
related columns together in a hierarchical naming structure. For
example, in the Sidada dataset column headings are across two rows, with
cells merged to illustrate the grouped columns. while this works for a
human a computer will not recognise this structure, and interpret the
second row as data. Merged cells may also be unmerged to create nameless
columns, for example, we can see this behavior if we export the Sidada
data as CSV:</p>
</div>
</section><section id="excel-is-not-a-database"><h2 class="section-heading">Excel is not a database<a class="anchor" aria-label="anchor" href="#excel-is-not-a-database"></a>
</h2>
<hr class="half-width"><p>We commonly use Excel to manage data, but it is important to remember
Excel is not a database management system. There are several key
differences between how Excel, as a spreadsheet program, manages data
compared to a database. How does data storage differ between
spreadsheets and databases?</p>
<div class="section level3">
<h3 id="unit-of-data">Unit of data<a class="anchor" aria-label="anchor" href="#unit-of-data"></a></h3>
<p>In a spreadsheet the unit of data is a cell, in a database it is a
table record. If we create a table in Excel, the value in one column is
independent from the value in the neighbouring cells. As a human we can
see there is a relationship between cells in a row, but Excel does not
share our concept of a table and will allow you to sort one column
independently of other columns. Excel does not have a formal table
structure, you can draw a table layout, but you can move the table
around a worksheet, and place other information around it. In a database
a table exists as a formal data structure and its unit of data is a row.
A table can contain only data in the columns define for it and nothing
else and columns cannot be sorted independently of each other.</p>
</div>
<div class="section level3">
<h3 id="column-data-types">Column data types<a class="anchor" aria-label="anchor" href="#column-data-types"></a></h3>
<p>Database table columns are typed, in excel they are not. This means
in a database table you must define the data type for each column, for
example <code>text</code>, <code>integer</code>, <code>numeric</code>,
<code>date</code>, or <code>datetime</code> (the exact datatypes will
vary between different database systems). Therefore a colmnn defined as
integer can only store integer values, it cannot store decimals, text or
dates. In Excel you can add any type of data into a cell. Databases
therefore provide very robust rules for quality controlling your data
compared to Excel.</p>
</div>
<div class="section level3">
<h3 id="databases-define-formal-relationships-between-tables">Databases define formal relationships between tables<a class="anchor" aria-label="anchor" href="#databases-define-formal-relationships-between-tables"></a></h3>
<p>A database can define formal relationships between tables using key
columns. This is a very powerful feature of <em>relational</em>
databases which allow for complex data structures to be defined. An
important use of relationships is to reduce data duplication and
increase the integrity of the data. For example, the Chitedze dataset
has eight different treatments. These treatments can be defined in one
small table, and the unique treatment number copied into the yield data
table to create a relationship. None of the information about treatments
needs to be duplicated in the yield data table, and a rule known as
<em>referential integrity</em> means only ID values from the treatments
table can be used in the yield data table.</p>
</div>
<div class="section level3">
<h3 id="databases-live-on-database-servers">Databases live on database servers<a class="anchor" aria-label="anchor" href="#databases-live-on-database-servers"></a></h3>
<p>Relational databases are usually hosted on a database server (SQLite
and MS Access are two exceptions being file based programs). This brings
several security features not available in Excel, including: -
multi-user access - backup and recovery - permissioned access -
multi-user access - audit logs</p>
</div>
<div class="section level3">
<h3 id="databases-are-transactional">Databases are transactional<a class="anchor" aria-label="anchor" href="#databases-are-transactional"></a></h3>
<p>Every update to a database happens inside a transaction which has a
start and an end. This means data is only saved into the database once
the transaction successful completes, if something goes wrong, or you
forget to finish, the transaction will rollback to the databases
original state. This is a critical feature which helps to maintain the
health of your data.</p>
</div>
<div class="section level3">
<h3 id="databases-are-not-easy-to-copy">Databases are not easy to copy<a class="anchor" aria-label="anchor" href="#databases-are-not-easy-to-copy"></a></h3>
<p>Compared to Excel, it is very difficult to make multiple copies of a
database. With Excel it is very easy to make multiple copies of a file
which, unless a robust naming and versioning system is in place, can
lead to confusion.</p>
</div>
<div class="section level3">
<h3 id="databases-are-harder-to-use">Databases are harder to use<a class="anchor" aria-label="anchor" href="#databases-are-harder-to-use"></a></h3>
<p>While databases clearly have many advantages over Excel for managing
data, this comes at a cost. To use a database effectively you need a
good understanding of database design principles and SQL, the language
used to interact with a database.</p>
<p>Compare between datasets 1. Treatment factors and standard experiment
management can be interchangeable between. For example, in application
of N is a treatment for Broadbalk and Embu, but not in Chitedze. 2.
Collect similar information, for example soil properties but presented
differently</p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Keypoints<a class="anchor" aria-label="anchor" href="#keypoints1"></a>
</h3>
<div class="callout-content">
<ul><li>Humans and computers can interpret data in Excel differently.</li>
<li>Be aware of common problems using Excel for managing data.</li>
<li>Excel is not a database.</li>
</ul></div>
</div>
</div>
<!-- 
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use. 
 -->
</div>
</section></div> <!-- / div.lesson-content -->
    </main><!-- / main#main-content.main-content --><nav class="bottom-pagination mx-md-4" aria-label="Previous and Next Chapter"><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="metadata-for-ltes.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="publishing-data-for-ltes.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="metadata-for-ltes.html" rel="prev"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous: Metadata for</a>
        <a class="chapter-link float-end" href="publishing-data-for-ltes.html" rel="next">Next: publishing-data-for-... <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
    </nav></div> <!-- / div.primary-content.col-xs-12 -->
<!-- END:   inst/pkgdown/templates/content-instructor.html-->

      </div><!--/div.row-->
      		<footer class="row footer mx-md-3"><hr><div class="col-md-6">
				<p>This lesson is subject to the <a href="CODE_OF_CONDUCT.html">Code of Conduct</a></p>
        <p>
        
        <a href="https://github.com/carpentries-incubator/fair-data-management-agriculture/edit/main/episodes/organising-data-for-ltes.Rmd" class="external-link">Edit on GitHub</a>
        
	
        | <a href="https://github.com/carpentries-incubator/fair-data-management-agriculture/blob/main/CONTRIBUTING.md" class="external-link">Contributing</a> 
        | <a href="https://github.com/carpentries-incubator/fair-data-management-agriculture/" class="external-link">Source</a></p>
				<p><a href="https://github.com/carpentries-incubator/fair-data-management-agriculture/blob/main/CITATION" class="external-link">Cite</a> | <a href="mailto:richard.ostler@rothamsted.ac.uk">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">About</a></p>
			</div>
			<div class="col-md-6">
        
        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>
        
        <p><a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">Template licensed under CC-BY 4.0</a> by <a href="https://carpentries.org" class="external-link">The Carpentries</a></p>
        <p>Built with <a href="https://github.com/carpentries/sandpaper/tree/0.11.6" class="external-link">sandpaper (0.11.6)</a>,
        <a href="https://github.com/carpentries/pegboard/tree/0.4.3" class="external-link">pegboard (0.4.3)</a>,
      and <a href="https://github.com/carpentries/varnish/tree/0.2.14" class="external-link">varnish (0.2.14)</a>.</p>
			</div>
		</footer></div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
			<i class="search-icon" data-feather="arrow-up" role="img" aria-label="Back to top"></i><br><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "TrainingMaterial",
  "@id": "https://carpentries-incubator.github.io/fair-data-management-agriculture/organising-data-for-ltes.html",
  "dct:conformsTo": "https://bioschemas.org/profiles/TrainingMaterial/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "FAIR, data, long-term experiments, agriculture, metadata, data management",
  "name": "Organising data for long-term experiments",
  "creativeWorkStatus": "active",
  "url": "https://carpentries-incubator.github.io/fair-data-management-agriculture/organising-data-for-ltes.html",
  "identifier": "https://carpentries-incubator.github.io/fair-data-management-agriculture/organising-data-for-ltes.html",
  "dateCreated": "2023-02-23",
  "dateModified": "2023-02-23",
  "datePublished": "2023-02-23"
}

  </script><script>
		feather.replace();
	</script><!-- Matomo
    2022-11-07: we have gotten a notification that we have an overage for our
    tracking and I'm pretty sure this has to do with Workbench usage.
    Considering that I am not _currently_ using this tracking because I do not
    yet know how to access the data, I am turning this off for now.
  <script>
    var _paq = window._paq = window._paq || [];
    /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
    _paq.push(["setDocumentTitle", document.domain + "/" + document.title]);
    _paq.push(["setDomains", ["*.preview.carpentries.org","*.datacarpentry.github.io","*.datacarpentry.org","*.librarycarpentry.github.io","*.librarycarpentry.org","*.swcarpentry.github.io", "*.carpentries.github.io"]]);
    _paq.push(["setDoNotTrack", true]);
    _paq.push(["disableCookies"]);
    _paq.push(['trackPageView']);
    _paq.push(['enableLinkTracking']);
    (function() {
          var u="https://carpentries.matomo.cloud/";
          _paq.push(['setTrackerUrl', u+'matomo.php']);
          _paq.push(['setSiteId', '1']);
          var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
          g.async=true; g.src='https://cdn.matomo.cloud/carpentries.matomo.cloud/matomo.js'; s.parentNode.insertBefore(g,s);
        })();
  </script>
  End Matomo Code --></body></html><!-- END:   inst/pkgdown/templates/layout.html-->

